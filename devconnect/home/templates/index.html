{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}


{% block content %}
<div class="container">
    {% for message in get_flashed_messages() %}
    <div class="alert alert-warning">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        {{ message }}
    </div>
    {% endfor %}

</div>
<h1 class="text-center">Home Page!!!!!</h1>
<ul>
    {% for post in posts %}
    <!-- <li> -->
    <!--Draw post-->
    <div class="container" style="width:70%">
        <div class="row">
            {% if post.kind == 'i' %}
            <i>idea</i>
            {% elif post.kind == 'qa' %}
            <i>q/a</i>
            {% elif post.kind == 'u' %}
            <i>update</i>
            {% endif %} 
        </div>
        <div class="row">
            <a href="/post/{{post.id}}/{{ post.slug }}">
                <h3 style="display: inline">{{ post.title }}</h3>
            </a> by <a href="/user/{{post.author.username}}">{{ post.author.username }} </a>
        </div>
        <div class="row">
            <p>{{ post.descrip }}</p>
        </div>
        <br>
    </div>
    <!-- </li> -->
    {% endfor %}
</ul>

<ul class = "pagination"> 
    <li {% if not pagination.has_prev %} class = "disabled" {% endif %}> 
        <a href = "{% if pagination.has_prev %}{{url_for('home.index', page=pagination.page-1)}}{% else %}#{% endif %}">
            &laquo;
        </a>    
    </li>
    {% for p in pagination.iter_pages() %}
        {% if p %}
            {% if p == pagination.page %}
            <li class = "active">
                <a href = "{{ url_for('home.index', page = p) }}">{{ p }}</a>
            </li>
            {% else %}
            <li>
                <a href = "{{ url_for('home.index', page = p) }}">{{ p }}</a>
            </li>
            {% endif %}
        {% else %}
        <li class ="disabled"><a href = "#">&hellip;</a></li>
        {% endif %}
    {% endfor %}
    <li {% if not pagination.has_next %} class = "disabled" {% endif %}> 
        <a href = "{% if pagination.has_next %}{{url_for('home.index', page=pagination.page+1)}}{% else %}#{% endif %}">
            &raquo;
        </a>    
    </li>
</ul>
{% endblock %}